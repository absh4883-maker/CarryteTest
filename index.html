<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Iqama Card – 100% Precision Setup</title>

<style>
/* ফন্ট লোড করা হচ্ছে */
@font-face {
    font-family: 'MySakkal';
    src: url('sakkal.ttf');
}
@font-face {
    font-family: 'MyAmiri';
    src: url('amiri.ttf');
}

body {
    margin: 0;
    padding: 20px;
    font-family: 'Arial', sans-serif;
    background: #f0f0f0;
}

/* ফর্ম স্টাইল (আগের মতোই রাখা হয়েছে) */
.form-container {
    background: #fff;
    padding: 15px;
    border-radius: 10px;
    max-width: 750px;
    margin: 0 auto 20px auto;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
}
.form-container input { padding: 8px; border: 1px solid #ccc; border-radius: 4px; }
.full-width { grid-column: span 2; }

/* কার্ড কন্টেইনার */
#iqama-card {
    position: relative;
    width: 720px;
    height: 440px;
    margin: auto;
    background-image: url('iqama-bg.jpg'); /* আপনার ইমেজের নাম নিশ্চিত করুন */
    background-size: 100% 100%;
    background-repeat: no-repeat;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    overflow: hidden;
}

/* ফটো সেকশন - পজিশন নিখুঁত করা হয়েছে */
#photo-slot {
    position: absolute;
    top: 114px;      
    left: 44px;      
    width: 178px;    
    height: 215px;   
    object-fit: cover; 
    z-index: 5;
    border-radius: 2px;
}

/* টেক্সট পজিশন এবং স্টাইল */
.field {
    position: absolute;
    display: flex;
    flex-direction: row;
    direction: rtl;
    text-align: right;
}

/* ডান পাশের হালকা ফন্ট (Labels) */
.label { 
    font-family: 'MySakkal', sans-serif;
    font-weight: 400; 
    color: #5a5a5a; /* হালকা ধূসর ভাব */
    font-size: 14.5px;
    margin-left: 10px; /* লেবেল ও ভ্যালুর মধ্যকার গ্যাপ */
    white-space: nowrap;
}

/* বাম পাশের গাঢ় ফন্ট (Values) */
.value { 
    font-family: 'MyAmiri', serif;
    font-weight: 900; 
    color: #000;
    font-size: 16.5px;
    line-height: 1;
}

/* নাম সেকশন */
.f-name-ar { top: 23.5%; right: 7.5%; font-size: 21px; font-family: 'MyAmiri', serif; font-weight: 900; color: #000; }
.f-name-en { top: 32.5%; right: 7.5%; font-size: 17px; font-weight: 600; font-family: 'Arial', sans-serif; direction: ltr; color: #1a1a1a; letter-spacing: 0.2px; }

/* সংস্করণ নম্বর */
.f-version-num {
    top: 14.5%; 
    left: 17.5%; 
    font-size: 20px; 
    font-weight: 900;
    color: #000;
    font-family: 'MyAmiri', serif;
}

/* গ্রুপ পজিশন - স্পেসিং ৫.৬% গ্যাপে সেট করা */
.right-group { right: 7.5%; width: 330px; }
.f-id        { top: 43.5%; }
.f-dob       { top: 49.1%; }
.f-nat       { top: 54.7%; }
.f-job       { top: 60.3%; }
.f-sid       { top: 65.9%; }
.f-issue     { top: 71.5%; }
.f-work      { top: 77.1%; }
.f-owner     { top: 82.7%; width: 350px;}

.left-group { left: 32%; width: 230px; }
.f-expiry    { top: 43.5%; }
.f-birthplace { top: 49.1%; }
.f-religion  { top: 54.7%; }

/* বাটন */
button {
    display: block;
    margin: 20px auto;
    padding: 12px 30px;
    background: #1b6e3c;
    color: #fff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}
</style>
</head>
<body>

<div class="form-container">
    <input type="text" id="in_name_ar" class="full-width" placeholder="নাম (আরবি)">
    <input type="text" id="in_name_en" class="full-width" placeholder="Name (English)">
    <input type="text" id="in_version_num" placeholder="সংস্করণ নম্বর">
    <input type="text" id="in_id" placeholder="ইকামা নম্বর">
    <input type="text" id="in_expiry" placeholder="শেষ তারিখ">
    <input type="text" id="in_dob" placeholder="জন্ম তারিখ">
    <input type="text" id="in_birthplace" placeholder="জন্মস্থান">
    <input type="text" id="in_nat" placeholder="জাতীয়তা">
    <input type="text" id="in_religion" placeholder="ধর্ম">
    <input type="text" id="in_job" placeholder="পেশা">
    <input type="text" id="in_sid" placeholder="কফিলের আইডি">
    <input type="text" id="in_issue" class="full-width" placeholder="ইস্যুর স্থান">
    <input type="text" id="in_work" placeholder="কাজের এলাকা">
    <input type="text" id="in_owner" placeholder="কফিলের নাম">
    <input type="file" id="in_photo" accept="image/*">
</div>

<div id="iqama-card">
    <img id="photo-slot" src="">

    <div class="field f-version-num" id="v_version_num"></div>
    <div class="field f-name-ar" id="v_name_ar">الاسم بالكامل</div>
    <div class="field f-name-en" id="v_name_en">FULL NAME ENGLISH</div>

    <div class="field right-group f-id"><span class="label">رقم الهوية:</span> <span class="value" id="v_id"></span></div>
    <div class="field right-group f-dob"><span class="label">تاريخ الميلاد:</span> <span class="value" id="v_dob"></span></div>
    <div class="field right-group f-nat"><span class="label">الجنسية:</span> <span class="value" id="v_nat"></span></div>
    <div class="field right-group f-job"><span class="label">المهنة:</span> <span class="value" id="v_job"></span></div>
    <div class="field right-group f-sid"><span class="label">هوية صاحب العمل:</span> <span class="value" id="v_sid"></span></div>
    <div class="field right-group f-issue"><span class="label">مكان الإصدار:</span> <span class="value" id="v_issue"></span></div>
    <div class="field right-group f-work"><span class="label">مكان العمل:</span> <span class="value" id="v_work"></span></div>
    <div class="field right-group f-owner"><span class="label">اسم صاحب العمل:</span> <span class="value" id="v_owner"></span></div>

    <div class="field left-group f-expiry"><span class="label">تاريخ الانتهاء:</span> <span class="value" id="v_expiry"></span></div>
    <div class="field left-group f-birthplace"><span class="label">مكان الميلاد:</span> <span class="value" id="v_birthplace"></span></div>
    <div class="field left-group f-religion"><span class="label">الديانة:</span> <span class="value" id="v_religion"></span></div>
</div>

<button onclick="download()">ডাউনলোড এইচডি কার্ড</button>

<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script>
// ইনপুট স্ক্রিপ্ট আগের মতোই রাখা হয়েছে যেন পরিবর্তন না হয়
const inputs = document.querySelectorAll('.form-container input');
inputs.forEach(input => {
    input.addEventListener('input', () => {
        const targetId = input.id.replace('in_', 'v_');
        const targetElement = document.getElementById(targetId);
        if(targetElement) targetElement.innerText = input.value;
    });
});

document.getElementById('in_photo').onchange = e => {
    const reader = new FileReader();
    reader.onload = () => document.getElementById('photo-slot').src = reader.result;
    reader.readAsDataURL(e.target.files[0]);
};

function download(){
    html2canvas(document.querySelector("#iqama-card"), { 
        scale: 4, 
        useCORS: true,
        backgroundColor: null
    }).then(canvas => {
        let a = document.createElement("a");
        a.download = "iqama_card_final.png";
        a.href = canvas.toDataURL("image/png", 1.0);
        a.click();
    });
}
</script>
</body>
</html>
